!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=76)}({12:function(t){t.exports=JSON.parse('{"url":{"name":"measurebar"},"constructor":"M.plugin.Measurebar","files":{"ol":{"scripts":["measurebar-3.1.1.ol.min.js"],"styles":["measurebar-3.1.1.min.css"]}},"metadata":{"uuid_plugin":"","uuid_version_plugin":"","version_ficha_metadatos":"","name":"Measurebar","description":"Tool to measure distances and areas.","text":"","version":"3.1.1","date":"20/10/2019","author":"Junta de Andalucía","org":"Junta de Andalucía","tags":"mapea,plugin","icon":"./facade/assets/icons/icons.svg","buttons":[{"title":"","description":"","querySelector":""},{"title":"","description":"","querySelector":""}],"dependencies":{"modules":["",""],"plugins":[{"uuid":"","name":""}],"services":[{"name":"","description":""}]},"compatibility":["4","5","6"]}}')},32:function(t,e){t.exports='<div class="m-measure-tooltip pointer"></div>'},33:function(t,e){t.exports='<div class="m-measure-tooltip measure">Area: {{area}}</div>'},34:function(t,e){t.exports='<div class="m-control m-measurearea-container">\n   <button id="m-measure-button" class="g-cartografia-medir-area" title="Medir área"></button>\n</div>'},35:function(t,e){t.exports='<div class="m-control m-measurelength-container">\n   <button id="m-measure-button" class="g-cartografia-medir-linea" title="Medir distancias"></button>\n</div>'},36:function(t,e){t.exports='<div class="m-control m-measureclear-container">\n   <button id="m-measure-button" class="g-cartografia-papelera" title="Borrar medidas"></button>\n</div>'},62:function(t,e,n){},76:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e);var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(c,M.Control);var e,n,r,u=a(c);function c(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(r=u.call(this,t,n)).template_=e,r}return e=c,(n=[{key:"createView",value:function(t){return M.template.compileSync(this.template_,{jsonp:!0})}},{key:"getActivationButton",value:function(t){return t.querySelector("button#m-measure-button")}},{key:"equals",value:function(t){var e=!1;return t instanceof c&&(e=this.name===t.name),e}},{key:"destroy",value:function(){this.getImpl().destroy(),this.template_=null,this.impl=null}}])&&o(e.prototype,n),r&&o(e,r),c}();l.NAME="measurebar",l.POINTER_TOOLTIP_TEMPLATE="measure_pointer_tooltip.html",l.MEASURE_TOOLTIP_TEMPLATE="measure_tooltip.html",l.HELP_MESSAGE="Click para empezar a dibujar";var s=n(32),f=n.n(s),p=n(33),y=n.n(p);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g(t);if(e){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(i,M.impl.Control);var e,n,r,o=_(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).type_=t,e.layer_=e.createLayer_(),e.draw_=e.createIteractionDraw_(),e.helpTooltip_=null,e.measureTooltip_=null,e.facadeMap_=null,e.currentFeature_=null,e.tooltipCoord_=null,e.overlays_=[],e}return e=i,(n=[{key:"addTo",value:function(t,e){this.facadeMap_=t,t.getMapImpl().addLayer(this.layer_),d(g(i.prototype),"addTo",this).call(this,t,e),this.createHelpTooltip_(),this.createMeasureTooltip_()}},{key:"activate",value:function(){this.createHelpTooltip_(),this.facadeMap_.getMapImpl().on("pointermove",this.pointerMoveHandler_.bind(this)),this.facadeMap_.getMapImpl().addInteraction(this.draw_),this.active=!0,this.createMeasureTooltip_()}},{key:"deactivate",value:function(){this.facadeMap_.getMapImpl().un("pointermove",this.pointerMoveHandler_.bind(this)),this.facadeMap_.getMapImpl().removeInteraction(this.draw_),this.clear(),M.utils.isNullOrEmpty(this.helpTooltip_)||this.facadeMap_.getMapImpl().removeOverlay(this.helpTooltip_),M.utils.isNullOrEmpty(this.measureTooltip_)||this.facadeMap_.getMapImpl().removeOverlay(this.measureTooltip_),this.active=!1}},{key:"createLayer_",value:function(){return new ol.layer.Vector({source:new ol.source.Vector({}),style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(51, 124, 235, 0.2)"}),stroke:new ol.style.Stroke({color:"#337ceb",width:2}),image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:"#337ceb"})})}),zIndex:M.impl.Map.Z_INDEX[M.layer.type.WFS]+99})}},{key:"createIteractionDraw_",value:function(){var t=new ol.interaction.Draw({source:this.layer_.getSource(),type:this.type_,style:new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255, 255, 255, 0.5)"}),stroke:new ol.style.Stroke({color:"#b54d01",lineDash:[10,10],width:2}),image:new ol.style.Circle({radius:5,stroke:new ol.style.Stroke({color:"#b54d01"}),fill:new ol.style.Fill({color:"rgba(255, 255, 255, 0.5)"})})})});return t.on("drawstart",this.onDrawStart_.bind(this)),t.on("drawend",this.onDrawEnd_.bind(this)),t}},{key:"createHelpTooltip_",value:function(){var t=M.template.compileSync(f.a,{jsonp:!0});this.helpTooltip_=new ol.Overlay({element:t,offset:[15,0],positioning:"center-left"}),this.facadeMap_.getMapImpl().addOverlay(this.helpTooltip_)}},{key:"createMeasureTooltip_",value:function(){var t=M.template.compileSync(y.a,{jsonp:!0});M.utils.isNullOrEmpty(this.measureTooltip_)||this.overlays_.push(this.measureTooltip_),this.measureTooltip_=new ol.Overlay({element:t,offset:[0,-15],positioning:"bottom-center"}),this.facadeMap_.getMapImpl().addOverlay(this.measureTooltip_)}},{key:"onDrawStart_",value:function(t){this.currentFeature_=t.feature,this.tooltipCoord_=t.coordinate,this.currentFeature_.getGeometry().on("change",this.onGeometryChange_.bind(this))}},{key:"onDrawEnd_",value:function(t){this.currentFeature_.getGeometry().un("change",this.onGeometryChange_),this.currentFeature_=null,this.measureTooltip_.getElement().classList.add("static"),this.measureTooltip_.setOffset([0,-7]),this.createMeasureTooltip_()}},{key:"pointerMoveHandler_",value:function(t){if(!t.dragging){var e=this.helpMsg_;this.currentFeature_&&(e=this.helpMsgContinue_),M.utils.isNullOrEmpty(this.helpTooltip_)||(this.helpTooltip_.getElement().innerHTML=e,this.helpTooltip_.setPosition(t.coordinate))}}},{key:"onGeometryChange_",value:function(t){var e=t.target,n=this.formatGeometry(e),r=this.getTooltipCoordinate(e);M.utils.isNullOrEmpty(this.measureTooltip_)||(this.measureTooltip_.getElement().innerHTML=n,this.measureTooltip_.setPosition(r))}},{key:"clear",value:function(){var t=this;M.utils.isNullOrEmpty(this.layer_)||this.layer_.getSource().clear(),this.overlays_.forEach((function(e){t.facadeMap_.getMapImpl().removeOverlay(e)}),this),this.overlays_.length=0}},{key:"destroy",value:function(){this.deactivate(),this.element.remove(),this.facadeMap_.removeControls(this),this.facadeMap_=null,this.overlays_.length=0}}])&&m(e.prototype,n),r&&m(e,r),i}();function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P(t,e,n){return(P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=R(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=R(t);if(e){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(t,e){return!e||"object"!==w(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(i,t);var e,n,r,o=E(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,"Polygon")).helpMsg_=l.HELP_MESSAGE,n.helpMsgContinue_=H,n.distanciaArea_=t,n.unidadMedida_=e,n}return e=i,(n=[{key:"formatGeometry",value:function(t){var e,n=this.facadeMap_.getProjection();return(e=ol.sphere.getArea(t,{projection:n.code}))>1e4?"".concat(Math.round(e/1e6*this.distanciaArea_*100)/100," ").concat(this.unidadMedida_):"".concat(Math.round(100*e)/100," m<sup>2</sup>")}},{key:"getTooltipCoordinate",value:function(t){return t.getInteriorPoint().getCoordinates()}},{key:"activate",value:function(){var t=this.facadeMap_.getControls().filter((function(t){return t instanceof rt}))[0];t&&t.deactivate(),P(R(i.prototype),"activate",this).call(this)}}])&&S(e.prototype,n),r&&S(e,r),i}(O),C=n(34),A=n.n(C);function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=G(t);if(e){var o=G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(t,e){return!e||"object"!==D(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function G(t){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var F=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(i,t);var e,n,r,o=I(i);function i(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var r=new k(t,e);return n=o.call(this,r,A.a,i.NAME),M.utils.isUndefined(k)&&M.Exception("La implementación usada no puede crear controles MeasureArea"),n}return e=i,(n=[{key:"equals",value:function(t){var e=!1;return t instanceof i&&(e=this.name===t.name),e}}])&&L(e.prototype,n),r&&L(e,r),i}(l);F.NAME="measurearea",F.TEMPLATE="measurearea.html";var H="Click para continuar dibujando el área";function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U(t,e,n){return(U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=W(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function V(t,e){return(V=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=W(t);if(e){var o=W(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z(this,n)}}function z(t,e){return!e||"object"!==q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&V(t,e)}(i,t);var e,n,r,o=J(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,"LineString")).helpMsg_=l.HELP_MESSAGE,t.helpMsgContinue_=ot,t}return e=i,(n=[{key:"formatGeometry",value:function(t){var e=null,n=this.facadeMap_.getProjection().code,r=this.facadeMap_.getProjection().units;if("EPSG:3857"===n)e=Math.round(100*ol.sphere.getLength(t))/100;else if("d"===r)for(var o=t.getCoordinates(),i=0,a=o.length-1;i<a;i+=1)e+=ol.sphere.getDistance(ol.proj.transform(o[i],n,"EPSG:4326"),ol.proj.transform(o[i+1],n,"EPSG:4326"));else e=Math.round(100*t.getLength())/100;return e>100?"".concat(Math.round(e/1e3*100)/100," km"):"".concat(Math.round(100*e)/100," m")}},{key:"getTooltipCoordinate",value:function(t){return t.getLastCoordinate()}},{key:"activate",value:function(){var t=this.facadeMap_.getControls().filter((function(t){return t instanceof F}))[0];t&&t.deactivate(),U(W(i.prototype),"activate",this).call(this)}}])&&B(e.prototype,n),r&&B(e,r),i}(O),Z=n(35),K=n.n(Z);function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $(t,e){return($=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=nt(t);if(e){var o=nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return et(this,n)}}function et(t,e){return!e||"object"!==Q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$(t,e)}(i,t);var e,n,r,o=tt(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var e=new X;return t=o.call(this,e,K.a,i.NAME),M.utils.isUndefined(X)&&M.Exception("La implementación usada no puede crear controles MeasureLength"),t}return e=i,(n=[{key:"equals",value:function(t){var e=!1;return t instanceof i&&(e=this.name===t.name),e}}])&&Y(e.prototype,n),r&&Y(e,r),i}(l);rt.NAME="measurelength",rt.TEMPLATE="measurelength.html";var ot="Click para continuar dibujando la línea";function it(t){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ut(t,e){return(ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=st(t);if(e){var o=st(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lt(this,n)}}function lt(t,e){return!e||"object"!==it(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ut(t,e)}(i,M.impl.Control);var e,n,r,o=ct(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this)).measureLengthControl_=t,n.facadeMap_=null,n.measureAreaControl_=e,n}return e=i,(n=[{key:"addTo",value:function(t,e){this.facadeMap_=t,e.getElementsByTagName("button")["m-measure-button"].addEventListener("click",this.onClick.bind(this)),ol.control.Control.call(this,{element:e,target:null}),t.getMapImpl().addControl(this)}},{key:"onClick",value:function(){this.measureLengthControl_.clear(),this.measureAreaControl_.clear()}},{key:"destroy",value:function(){this.element.remove(),this.facadeMap_.removeControls(this),this.facadeMap_=null}}])&&at(e.prototype,n),r&&at(e,r),i}(),pt=n(36),yt=n.n(pt);function ht(t){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dt(t,e){return(dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var o=vt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _t(this,n)}}function _t(t,e){return!e||"object"!==ht(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dt(t,e)}(i,M.Control);var e,n,r,o=bt(i);function i(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var r=new ft(t.getImpl(),e.getImpl());return n=o.call(this,r,i.NAME),M.utils.isUndefined(ft)&&M.Exception("La implementación usada no puede crear controles MeasureClear"),n}return e=i,(n=[{key:"createView",value:function(t){return M.template.compileSync(yt.a,{jsonp:!0})}},{key:"equals",value:function(t){var e=!1;return t instanceof i&&(e=this.name===t.name),e}},{key:"destroy",value:function(){this.getImpl().destroy(),this.impl=null}}])&&mt(e.prototype,n),r&&mt(e,r),i}();gt.NAME="measurebar",gt.TEMPLATE="measureclear.html";n(62);var Ot=n(12);function Mt(t){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function St(t,e){return(St=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Et(t);if(e){var o=Et(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jt(this,n)}}function jt(t,e){return!e||"object"!==Mt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Et(t){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&St(t,e)}(i,M.Plugin);var e,n,r,o=Pt(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var n=t||{};return(e=o.call(this)).map_=null,e.measureLength_=null,e.measureArea_=null,e.name=i.NAME,e.measureClear_=null,e.metadata_=Ot.metadata,e.longitud_=n.longitud||100,e.metadata_=Ot.metadata,e.distanciaArea_=n.distanciaArea||1,e.metadata_=Ot.metadata,e.unidadMedida_=n.unidadMedida||"km<sup>2</sup>",e}return e=i,(n=[{key:"addTo",value:function(t){var e=this;this.map_=t,this.measureLength_=new rt(this.longitud_),this.measureArea_=new F(this.distanciaArea_,this.unidadMedida_),this.measureClear_=new gt(this.measureLength_,this.measureArea_),M.utils.isNullOrEmpty(this.map_.panel.TOOLS)&&(this.map_.panel.TOOLS=new M.ui.Panel("tools",{collapsible:!0,className:"m-tools",collapsedButtonClass:"g-cartografia-herramienta",position:M.ui.position.TL,tooltip:"Panel de herramientas"})),this.controls_=[this.measureLength_,this.measureArea_,this.measureClear_],this.measureLength_.on(M.evt.ADDED_TO_MAP,(function(){e.measureArea_.on(M.evt.ADDED_TO_MAP,(function(){e.measureClear_.on(M.evt.ADDED_TO_MAP,(function(){e.fire(M.evt.ADDED_TO_MAP)}))}))})),this.map_.panel.TOOLS.addControls(this.controls_),this.panel_=this.map_.panel.TOOLS,this.map_.addPanels(this.panel_)}},{key:"destroy",value:function(){this.panel_.removeControls([this.measureLength_,this.measureArea_,this.measureClear_]),this.map_=null,this.measureLength_=null,this.measureArea_=null,this.measureClear_=null,this.name=null}},{key:"getControls",value:function(){var t=[];return t.push(this.measureArea_,this.measureClear_,this.measureLength_),t}},{key:"equals",value:function(t){return t instanceof i}},{key:"getAPIRest",value:function(){return"measurebar"}},{key:"getMetadata",value:function(){return this.metadata_}}])&&wt(e.prototype,n),r&&wt(e,r),i}();Tt.NAME="measurebar",null==window.M.plugin&&(window.M.plugin={}),window.M.plugin.Measurebar=Tt}});